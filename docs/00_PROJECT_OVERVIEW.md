# 📺 VTS (Visual Tactics Studio) - 项目总览

**Project Name:** Visual Tactics Studio  
**Client:** 手游攻略 UP 主 (B 站内容创作)  
**Version:** 1.0.0 (MVP)  
**Status:** Planning Phase  
**Build Target:** Local Web App + OBS Integration  
**Output Format:** 1080p 60FPS (B 站标准)

---

## 🎯 项目使命

为硬核手游攻略 UP 主构建一套 **本地化、高效的视频素材工厂**。

### 核心价值主张

| 痛点 | 传统方案 | VTS 方案 |
|------|--------|--------|
| 排行榜修改 → 重新PS | 需要 PS 技能 + 1-2 小时 | 拖拽调整 + 1 秒导出 |
| 视频解说素材制作 | 每个视频主题都要设计新布局 | HUD 模板一键套用 + 参数调整 |
| 多平台内容差异化 | 分别制作 B 站封面、小红书长图、微博等 | 一套数据 → 多种输出格式 |
| 卡池预测可视化 | 手绘时间轴或复杂表格 | 交互式时间轴编辑器 |

---

## 📊 项目范围

### ✅ 在范围内 (In Scope)

**v1.0 必做：**
1. **Tierlist 排行榜页面**
   - 支持拖拽调整排序
   - 点击头像 → 3D 卡片飞出，展示详情卡
   - 支持 Editor/Presentation 两种模式

2. **角色详情卡**
   - 8 个关键数据维度（定位、强度、队友推荐、武器、命座、技能加点、雷达图）
   - 电影级 3D 动画（卡片侧放、光影演出）

3. **B 站封面生成工具**
   - 预设尺寸：1280×720（B 站标准）
   - 支持：大立绘 + 标题 + 副标题
   - 中文字体完全支持
   - 一键导出高分辨率图片

**v1.0 计划中（优先级较低）：**
- 一图流生成（纵向长图，适配小红书/社交）
- HUD 解说框（队伍视角技能讲解）
- 卡池预测时间轴（未来卡池规划）

### ❌ 不在范围内 (Out of Scope)

- ❌ TTS 文本转语音
- ❌ 自动化录制 (OBS 由用户手动操作)
- ❌ 用户账户系统 (本地优先，无云存储)
- ❌ 多人协作编辑
- ❌ 移动端支持 (Desktop Only: 1920×1080 为基准)
- ❌ 直播集成 (输出为本地文件供 OBS 引入)
- ❌ 排轴计算器 (v2.0+ 考虑，当前只做 UI 框架预留)

---

## 🎮 支持的游戏 (Cartridge System)

### v1.0 实装

| 游戏 | ID | 优先级 | 备注 |
|------|----|----|------|
| **Persona 5: The Phantom X** | `p5x` | P0 (必做) | 主要客户 |
| **重返未来 1999** | `re1999` | P0 (必做) | 主要客户 |
| **空之轨迹 北方战役** | `trails-polemica` | P2 (可快速适配) | 商单，复用 re1999 样式 |

### Cartridge 设计思路

每个游戏对应一个独立的配置文件 (`src/config/games/{gameId}.ts`)，包含：
- 色彩主题 (primary, accent, background)
- 字体定义
- 角色属性字段映射
- 数据源（可以是 JSON/API）
- 特殊视觉组件（如 P5X 的雷达图样式 vs Re1999 的唱片样式）

---

## 🖼️ 用户工作流 (User Journey)

### 场景 1: 排行榜视频制作

```
1. 打开 VTS → 选择游戏 (P5X / Re1999)
2. 导入角色数据 (JSON / 手工录入)
3. 拖拽调整排序 (T0 → T4)
   ├─ Editor Mode: 显示网格、工具栏
   └─ Presentation Mode: 全屏纯净排行榜
4. 点击头像 → 展示角色详情卡 (带 3D 动画)
5. OBS 录屏 → 行为捕捉 (拖拽、点击、转场)
6. 导出截图 / 视频素材
```

### 场景 2: B 站封面制作

```
1. 在 Tierlist 中选中某个角色
2. 切换到"封面生成"模式
3. 选择预设模板 (大立绘 + 文案版式)
4. 编辑标题、副标题
5. 一键导出 1280×720 PNG
6. 上传 B 站
```

### 场景 3: HUD 解说框制作（未来版本）

```
1. 选择"队伍讲解"模式
2. 配置 4 个角色卡 + 技能列表
3. 生成 HUD 布局 (右侧录制区 + 左侧/下方信息区)
4. OBS 中引入为源 → 叠加在游戏实机画面上
5. 开始直播/录屏
```

---

## 🏗️ 技术架构简图

```
┌─────────────────────────────────────────┐
│         React 19 + Vite 6               │
│     (TypeScript + Tailwind + R3F)       │
└──────────────────┬──────────────────────┘
                   │
        ┌──────────┴───────────┐
        ▼                      ▼
   ┌─────────┐          ┌──────────┐
   │ 2D UI   │          │ 3D Scene │
   │ Layer   │          │ (R3F)    │
   └─────────┘          └──────────┘
        │                      │
        │  State Management (Zustand)
        │  ├─ 当前游戏
        │  ├─ 排行榜状态
        │  ├─ UI 模式 (Editor/Presentation)
        │  └─ 画布配置
        │
   ┌────┴──────────────────────┐
   ▼                            ▼
┌──────────────┐        ┌──────────────┐
│ Game Config  │        │ Export       │
│ (Cartridge)  │        │ Pipeline     │
├─ p5x.ts      │        ├─ Image       │
├─ re1999.ts   │        ├─ JSON Cache  │
└─ trails.ts   │        └─ (Future)    │
└──────────────┘        └──────────────┘
```

---

## 📋 MVP 时间规划

| 阶段 | 任务 | 时间 | 交付物 |
|------|------|------|--------|
| **Phase 1: 数据层** | 定义 Schema、Game Config | 2-3 天 | TypeScript 接口 + 样例数据 |
| **Phase 2: Tierlist 基础** | 排行榜网格、拖拽排序、Editor/Presentation | 5-7 天 | 可交互的排行榜页面 |
| **Phase 3: 3D 详情卡** | R3F 卡片动画、信息展示 | 5-7 天 | 3D 飞出动画 + 详情面板 |
| **Phase 4: 工具集** | 封面生成、导出管线 | 3-5 天 | 高分辨率图片导出 |
| **Phase 5: 打磨 & 测试** | Bug 修复、性能优化、OBS 兼容性测试 | 3-5 天 | 稳定的 v1.0 |

**估计总耗时：** 20-30 天（两个高效的开发者 + Antigravity/Claude 配合）

---

## 🔄 开发工作流 (Antigravity + Cursor)

### 角色分工

| 角色 | 职责 | 工具 |
|------|------|------|
| **你 (Architect)** | 需求审核、设计决策、最终验收 | Cursor + 浏览器 |
| **Claude (Logic)** | 数据结构、状态管理、导出逻辑 | Antigravity Planning |
| **Gemini (Visuals)** | R3F 3D、UI 组件、动画效果 | Antigravity Planning |

### 工作流程

1. **需求阶段** (当前) → 你审阅本文档包，确认需求
2. **Planning 阶段** → Antigravity 读取文档，生成"开发计划"
3. **Coding 阶段** → Claude/Gemini 开始实装，Cursor 编辑
4. **Review 阶段** → 你在浏览器中验收，Cursor 中进行微调
5. **Loop** → 根据反馈迭代

---

## 📂 文档导航

本规范包共分 5 个部分，建议按顺序审阅：

1. **本文档** (00_PROJECT_OVERVIEW.md) ← 你在这里
2. **需求详解** (01_FEATURES_DETAILED.md) → 6 个功能模块详细描述
3. **数据契约** (02_DATA_CONTRACTS.md) → TypeScript 接口定义
4. **设计系统** (03_VISUAL_DESIGN.md) → 3D 动画、字体、色彩规范
5. **架构指南** (04_ARCHITECTURE.md) → 组件树、状态管理、工作流

---

## 🚀 下一步行动

- [ ] 你阅读本总览文档，确认项目范围 ✓
- [ ] 你阅读详细功能文档，反馈调整
- [ ] 确认 3 个游戏的角色数据源（JSON 格式还是手工录入？）
- [ ] 确认设计系统（色彩、字体选择）
- [ ] 启动 Planning 阶段 → 生成开发计划

**有任何问题或需要调整的地方，直接在各文档中批注即可。** 💬
